<!DOCTYPE html>
<html>
<head>
    <title>Localisation Animée : Lagune de Porto-Novo sur le Globe</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIINfBIH2g13uN/QoY5A1xJk+SfOzADGFrg="
          crossorigin=""/>
    
    <style>
        /* Définit la taille du conteneur de la carte */
        #mapid { 
            height: 800px; /* Taille pour un bon affichage */
            width: 100%; 
        }
    </style>
</head>
<body>

<div id="mapid"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20n6a4y9bI2x0i6xK/j1G5t6rD3J0bQzLg2GzFz5Pz0="
        crossorigin=""></script>

<script>
    // =========================================================
    // 2. INITIALISATION : Démarrage sur le Globe (Zoom 2)
    // =========================================================

    // Étape 1 : Centrage initial sur la Lagune de Porto-Novo ([6.40, 2.65]) avec un zoom TRES faible (2)
    var map = L.map('mapid').setView([6.40, 2.65], 2); 

    // Ajout du fond de carte OpenStreetMap
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: 'Fond de carte : &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    // ---------------------------------------------------------
    // Paramètres de l'animation
    // ---------------------------------------------------------

    // Coordonnées cibles : Lagune de Porto-Novo
    var latLngCible = [6.40, 2.65]; 

    // Zoom Cible : Niveau 12 (assez proche pour voir les détails de la lagune)
    var zoomCible = 12; 

    // Durée de l'animation en secondes
    var dureeAnimation = 4; 

    // =========================================================
    // 3. EXÉCUTION DE L'ANIMATION
    // =========================================================

    // On utilise setTimeout pour donner le temps à la carte de charger avant de zoomer
    setTimeout(function() {
        map.flyTo(latLngCible, zoomCible, {
            duration: dureeAnimation 
        });
    }, 1000); // Démarre l'animation 1 seconde après le chargement de la carte

    // =========================================================
    // 4. Marqueur final (optionnel, mais recommandé pour montrer le point exact)
    // =========================================================
    
    L.marker(latLngCible)
        .bindPopup("<b>Lagune de Porto-Novo / Zone d'étude</b>")
        .addTo(map);

</script>

</body>
</html>
